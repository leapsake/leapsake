FROM node:22-alpine
WORKDIR /workspace

COPY package-lock.json ./
COPY apps/server/package.json ./
COPY apps/server ./

RUN npm ci
RUN mkdir -p /workspace/data

EXPOSE 3333
CMD ["npm", "run", "dev"]
